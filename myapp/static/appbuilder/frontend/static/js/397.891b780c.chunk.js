"use strict";(self.webpackChunkkubeflow_frontend=self.webpackChunkkubeflow_frontend||[]).push([[397],{54189:function(e,n,t){t.d(n,{Z:function(){return _}});var r=t(1413),a=t(29439),i=t(4519),l=t(1631),c=t(93849),o=t(81748),s=t(2556),u={height:300};function _(e){var n=(0,i.useState)(),t=(0,a.Z)(n,2),_=t[0],d=t[1],m=Math.random().toString(36).substring(2),f=(0,o.$G)(),p=f.t,h=(f.i18n,{});return(0,i.useEffect)((function(){var n=document.getElementById(m);if(n){var t=l.S1(n);t.setOption((0,r.Z)((0,r.Z)({},h),e.option)),_||d(t)}}),[e.option,e.data]),(0,s.jsx)(c.Z,{spinning:e.loading,children:(0,s.jsxs)("div",{className:"chart-container",children:[(0,s.jsx)("div",{id:m,style:(0,r.Z)((0,r.Z)({},u),e.style)}),e.isNoData?(0,s.jsx)("div",{className:"chart-nodata",children:(0,s.jsx)("div",{children:p("\u6682\u65e0\u6570\u636e")})}):null]})})}},6857:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(29439),a=t(7517),i=t(10007),l=t(4519),c=t(2556);function o(e){var n,t=Math.random().toString(36).substring(2),o=(0,l.useState)(e.options||[]),s=(0,r.Z)(o,2),u=s[0],_=s[1],d=(0,l.useState)(e.value||""),m=(0,r.Z)(d,2),f=m[0],p=m[1];(0,l.useEffect)((function(){var n=e.isOpenSearchMatch?(e.options||[]).filter((function(e){return-1!==e.indexOf(f)})):e.options||[];_(n)}),[e.options]),(0,l.useEffect)((function(){p(e.value||"")}),[e.value]);var h=function(n){p(n),e.onChange&&e.onChange(n)},x=function(e){var n=f,t=e.indexOf(f);if(-1===t)return(0,c.jsx)("span",{children:e});var r=e.substring(0,t),a=e.substring(t+f.length);return(0,c.jsxs)("span",{children:[r,(0,c.jsx)("span",{className:"highlight",children:n}),a]})},j=function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];clearTimeout(n),n=setTimeout((function(){e&&e.apply(null,[].concat(a))}),t)}}(e.onScrollButtom);return(0,c.jsxs)("div",{className:"select-down-modern",children:[e.labelName?(0,c.jsx)("label",{htmlFor:t,className:"pb4 mb0 fs12 d-b",children:e.labelName}):null,(0,c.jsxs)("div",{className:"p-r d-f ac",style:{width:e.width||"100%"},children:[(0,c.jsx)(i.Z,{style:{width:"100%"},disabled:e.disabled,id:t,placeholder:e.placeholder||"",maxLength:e.maxLength||200,onChange:function(e){return h(e.target.value)},onKeyPress:function(t){13===t.nativeEvent.keyCode&&(n.blur&&n.blur(),e.onSearch&&e.onSearch(t.currentTarget.value))},value:f,ref:function(e){return n=e}}),(0,c.jsx)(a.Z,{className:"p-a r0 mr8"})]}),u.length?(0,c.jsxs)("ul",{className:"select-option shadow",onScroll:function(n){n.stopPropagation();var t=n.currentTarget,r=t.scrollTop,a=t.clientHeight;t.scrollHeight-a-r<20&&e.onScrollButtom&&j()},style:{maxHeight:"".concat(e.maxHeight,"px")},children:[e.loading?(0,c.jsx)("div",{className:"p-s z9 ta-r",style:{right:"".concat(0,"px"),top:"".concat(0,"px")},children:(0,c.jsx)("div",{className:"d-il p-a",style:{right:"".concat(8,"px"),top:"".concat(0,"px")}})}):null,u.map((function(n,t){return(0,c.jsx)("li",{className:"ellip1",onMouseDown:function(){return function(n){h(n),e.onClick&&e.onClick(n)}(n)},children:x(n)},t)}))]}):null]})}},76877:function(e,n,t){t.d(n,{Z:function(){return O}});var r=t(93433),a=t(29439),i=t(1413),l=t(45987),c=t(4519),o=t(35492),s=t(20011),u=t(79551),_=t(28532),d=t(12513),m=t(80211),f=t(10089),p=t(2704),h=t(25738),x=t(1126),j=t.p+"static/media/emptyBg.15fdf5f39309784ac66e.png",v=t(74308),Z=t(81748),g=t(2556),b=["onResize","width"],y=t(17972),E=function(e){var n=e.onResize,t=e.width,r=(0,l.Z)(e,b);return t?(0,g.jsx)(v.Resizable,{width:t,height:0,handle:(0,g.jsx)("span",{className:"react-resizable-handle",onClick:function(e){e.stopPropagation()}}),onResize:n,draggableOpts:{enableUserSelectHack:!1},children:(0,g.jsx)("th",(0,i.Z)((0,i.Z)({},r),{},{style:(0,i.Z)((0,i.Z)({},null===r||void 0===r?void 0:r.style),{},{userSelect:"none"})}))}):(0,g.jsx)("th",(0,i.Z)({},r))},O=function(e){var n=(0,c.useState)(!1),t=(0,a.Z)(n,2),l=t[0],v=t[1],b=(0,c.useState)({header:[],data:[]}),O=(0,a.Z)(b,2),C=O[0],M=O[1],w=(0,c.useState)([]),P=(0,a.Z)(w,2),S=P[0],k=P[1],D=(0,c.useState)(e.columns),I=(0,a.Z)(D,2),N=I[0],T=I[1],L=function(n){return function(t,a){var l=a.size;if(!(l.width<100)){var c=(0,r.Z)(N);c[n]=(0,i.Z)((0,i.Z)({},c[n]),{},{width:l.width});var o=c.reduce((function(e,n){return e+n.width||100}),0)+200;localStorage.setItem(e.tableKey||"",JSON.stringify(c)),K((0,i.Z)((0,i.Z)({},U),{},{x:o})),T(c)}}},R=N.map((function(e,n){return(0,i.Z)((0,i.Z)({},e),{},{width:e.width||200,onHeaderCell:function(e){return{width:e.width,onResize:L(n)}}})})),A=(0,c.useState)(e.scroll),B=(0,a.Z)(A,2),U=B[0],K=B[1],W=(0,Z.$G)(),H=W.t;W.i18n;(0,c.useEffect)((function(){T(e.columns)}),[e.columns]),(0,c.useEffect)((function(){K(e.scroll)}),[e.scroll]),(0,c.useEffect)((function(){if(e.dataSource){var n=e.columns.filter((function(e){return~S.indexOf(e.dataIndex)}));F(n,e.dataSource)}}),[e.dataSource,e.columns]);var F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,t=e.map((function(e){return e.dataIndex})).filter((function(e){return"handle"!==e})),r=e.map((function(e){return e.title})).filter((function(e){return e!==H("\u64cd\u4f5c")})),a=[];n.forEach((function(e){var n={};t.map((function(t){var r=e[t];n[t]=r||""})),a.push(n)})),M({header:r,data:a})},V=function(){var e=C.header,n=C.data,t="";return e.length&&n.length?(t="|"+e.join("|")+"|\n",n.forEach((function(e){var n=Object.values(e).map((function(e){return""===e?" ":e}));t=t+"|"+n.join("|")+"|\n"}))):t="",t},q=function(){var e=C.header,n=C.data,t="";return e.length&&n.length?(t=e.join("\t")+"\n",n.forEach((function(e){var n=Object.values(e).map((function(e){return""===e?" ":e}));t=t+n.join("\t")+"\n"}))):t="",t};return(0,g.jsxs)(s.Z,{className:"tablebox",direction:"vertical",size:"middle",children:[(0,g.jsxs)(u.Z,{width:1e3,maskClosable:!1,centered:!0,bodyStyle:{maxHeight:500,overflow:"auto"},visible:l,title:H("\u5bfc\u51fa\u6570\u636e"),onCancel:function(){v(!1)},footer:null,children:[(0,g.jsxs)("div",{style:{position:"relative"},children:[(0,g.jsxs)("div",{className:"mb16",children:[(0,g.jsxs)("span",{className:"pr8",children:[H("\u9009\u62e9\u9700\u8981\u5bfc\u51fa\u7684\u5217"),"\uff1a"]}),(0,g.jsx)(_.Z.Group,{options:e.columns.map((function(e){return{label:e.title,value:e.dataIndex}})).filter((function(e){return"handle"!==e.value})),defaultValue:[],value:S,onChange:function(n){k(n);var t=e.columns.filter((function(e){return~n.indexOf(e.dataIndex)}));F(t,e.dataSource)}})]}),(0,g.jsxs)("div",{style:{position:"absolute",right:0,bottom:0},children:[(0,g.jsx)(d.Z,{size:"small",type:"link",onClick:function(){k(e.columns.map((function(e){return e.dataIndex})).filter((function(e){return"handle"!==e}))),F(e.columns,e.dataSource)},children:H("\u5168\u9009")}),(0,g.jsx)(d.Z,{size:"small",type:"link",onClick:function(){k([]),F([],e.dataSource)},children:H("\u53cd\u9009")})]})]}),(0,g.jsxs)(m.Z,{children:[(0,g.jsx)(m.Z.TabPane,{tab:"Wiki\u683c\u5f0f",children:(0,g.jsx)(y,{text:V(),onCopy:function(){return f.ZP.success(H("\u5df2\u590d\u5236\u5230\u7c98\u8d34\u677f"))},children:(0,g.jsx)("pre",{style:{cursor:"pointer",minHeight:100},children:(0,g.jsx)("code",{children:V()})})})},"jira"),(0,g.jsx)(m.Z.TabPane,{tab:"Text\u683c\u5f0f",children:(0,g.jsx)(y,{text:q(),onCopy:function(){return f.ZP.success(H("\u5df2\u590d\u5236\u5230\u7c98\u8d34\u677f"))},children:(0,g.jsx)("pre",{style:{cursor:"pointer",minHeight:100},children:(0,g.jsx)("code",{children:q()})})})},"test")]})]}),e.titleNode||e.buttonNode||!e.cancelExportData?(0,g.jsxs)(o.Z,{justify:"space-between",align:"middle",children:[(0,g.jsx)(p.Z,{children:(0,g.jsx)(s.Z,{align:"center",children:e.titleNode})}),(0,g.jsx)(p.Z,{children:(0,g.jsxs)(s.Z,{align:"center",children:[e.buttonNode,e.cancelExportData?null:(0,g.jsx)(d.Z,{style:{marginLeft:6},onClick:function(){return v(!0)},children:H("\u5bfc\u51fa\u6570\u636e")})]})})]}):null,(0,g.jsx)(h.ZP,{renderEmpty:function(){return(0,g.jsxs)(o.Z,{justify:"center",align:"middle",style:{height:360,flexDirection:"column"},children:[(0,g.jsx)("img",{src:j,style:{width:266},alt:""}),(0,g.jsx)("div",{children:H("\u6682\u65e0\u6570\u636e")})]})},children:(0,g.jsx)(x.Z,{size:e.size||"middle",rowKey:e.rowKey?e.rowKey:"id",dataSource:e.dataSource,components:{header:{cell:E}},columns:R,pagination:!1!==e.pagination&&(0,i.Z)({},e.pagination),scroll:U,loading:e.loading,onChange:e.onChange,rowSelection:e.rowSelection})})]})}},54627:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return TabsDetail}});var D_work_cube_studio_myapp_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(93433),D_work_cube_studio_myapp_frontend_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(74165),D_work_cube_studio_myapp_frontend_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(4942),D_work_cube_studio_myapp_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1413),D_work_cube_studio_myapp_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(15861),D_work_cube_studio_myapp_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(29439),antd__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(35492),antd__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2704),antd__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(80211),antd__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(12513),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4519),_EchartCore_EchartCore__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(54189),_TabsDetail_less__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(48773),marked__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(99625),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2556);function TabsDetail(props){var _props$data$0$bottomB,_useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}),_useState2=(0,D_work_cube_studio_myapp_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_5__.Z)(_useState,2),markdownMap=_useState2[0],setMarkdownMap=_useState2[1];(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var e=function(){var e=(0,D_work_cube_studio_myapp_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__.Z)((0,D_work_cube_studio_myapp_frontend_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_7__.Z)().mark((function e(n,t,r){var a;return(0,D_work_cube_studio_myapp_frontend_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_7__.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,marked__WEBPACK_IMPORTED_MODULE_3__.TU)(r);case 2:a=e.sent,setMarkdownMap((function(e){return(0,D_work_cube_studio_myapp_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_8__.Z)((0,D_work_cube_studio_myapp_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_8__.Z)({},e),{},(0,D_work_cube_studio_myapp_frontend_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__.Z)({},n,(0,D_work_cube_studio_myapp_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_8__.Z)((0,D_work_cube_studio_myapp_frontend_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_8__.Z)({},e[n]||{}),{},(0,D_work_cube_studio_myapp_frontend_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__.Z)({},t,a))))}));case 4:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}();props.data.forEach((function(n){n.content.forEach((function(t){"markdown"===t.groupContent.type&&e(n.tabName,t.groupName,t.groupContent.value)}))}))}),[props.data]);var handleGroupContent=function(e,n,t,r){switch(e){case"map":return renderMapComponent(n);case"echart":return renderEchart(n);case"text":return renderMapText(n);case"iframe":return renderMapIframe(n);case"image":return renderimage(n);case"html":return renderHtml(n);case"markdown":return renderMarkdown(t,r);default:return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{style:{wordBreak:"break-word",whiteSpace:"pre-wrap"},children:n})}},renderimage=function(e){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("img",{src:e,style:{width:"100%",height:"auto"}})},renderHtml=function(e){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{dangerouslySetInnerHTML:{__html:e}})},renderMapComponent=function(e){var n=Object.entries(e).reduce((function(e,n){var t=(0,D_work_cube_studio_myapp_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_5__.Z)(n,2),r=t[0],a=t[1];return[].concat((0,D_work_cube_studio_myapp_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_10__.Z)(e),[{label:r,value:a}])}),[]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"bg-title p16",children:n.map((function(e,n){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(antd__WEBPACK_IMPORTED_MODULE_11__.Z,{className:"mb8 w100",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(antd__WEBPACK_IMPORTED_MODULE_12__.Z,{span:8,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"ta-l",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("strong",{children:[e.label,"\uff1a"]})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(antd__WEBPACK_IMPORTED_MODULE_12__.Z,{span:16,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{style:{wordBreak:"break-word",whiteSpace:"pre-wrap"},children:e.value})})]},"tabsDetailItem_".concat(n))}))})},renderEchart=function renderEchart(data){var currentOps={};return eval("currentOps=".concat(data)),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"bg-title p16",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_EchartCore_EchartCore__WEBPACK_IMPORTED_MODULE_1__.Z,{option:currentOps,loading:!1})})},renderMapText=function(e){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"p16 bg-title",style:{wordBreak:"break-word",whiteSpace:"pre-wrap"},children:e})},renderMapIframe=function(e){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("iframe",{src:e,allowFullScreen:!0,allow:"microphone;camera;midi;encrypted-media;",className:"w100 fade-in",style:{border:0,height:500}})},renderMarkdown=function(e,n){var t,r=null===(t=markdownMap[e])||void 0===t?void 0:t[n];return r?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"markdown-content",dangerouslySetInnerHTML:{__html:r}}):null};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:props.data.length>1?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(antd__WEBPACK_IMPORTED_MODULE_13__.Z,{className:"tabsdetail-tab",children:props.data.map((function(e,n){var t;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(antd__WEBPACK_IMPORTED_MODULE_13__.Z.TabPane,{tab:e.tabName,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"d-f fd-c jc-b h100",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"flex1",children:e.content.map((function(n,t){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:e.bottomButton?"mb32":"mb2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"fs16 mb16 bor-l b-theme pl4",style:{borderLeftWidth:2},dangerouslySetInnerHTML:{__html:n.groupName}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{children:handleGroupContent(n.groupContent.type,n.groupContent.value,e.tabName,n.groupName)})]},"tabsGroup".concat(t))}))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"tabsdetail-tool",children:null===(t=e.bottomButton)||void 0===t?void 0:t.map((function(e){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(antd__WEBPACK_IMPORTED_MODULE_14__.Z,{className:"mr12 icon-tool-wrapper",onClick:function(){window.open(e.url,"blank")},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"icon-tool",dangerouslySetInnerHTML:{__html:e.icon}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"ml6",children:e.text})]})}))})]})},"tabsDetailTab".concat(n))}))}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"d-f fd-c jc-b h100",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"flex1",children:props.data[0].content.map((function(e,n){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:props.data[0].bottomButton?"mb32":"mb2",children:[e.groupName?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"fs16 mb16 bor-l b-theme pl4",style:{borderLeftWidth:2},dangerouslySetInnerHTML:{__html:e.groupName}}):null,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{children:handleGroupContent(e.groupContent.type,e.groupContent.value,props.data[0].tabName,e.groupName)})]},"tabsGroup".concat(n))}))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"tabsdetail-tool",children:null===(_props$data$0$bottomB=props.data[0].bottomButton)||void 0===_props$data$0$bottomB?void 0:_props$data$0$bottomB.map((function(e){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(antd__WEBPACK_IMPORTED_MODULE_14__.Z,{className:"mr12 icon-tool-wrapper",onClick:function(){window.open(e.url,"blank")},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"icon-tool",dangerouslySetInnerHTML:{__html:e.icon}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"ml6",children:e.text})]})}))})]})})}},56051:function(e,n,t){t.r(n),t.d(n,{default:function(){return Ee}});var r=t(93433),a=t(4942),i=t(1413),l=t(29439),c=t(4519),o=t(10388),s=t(20011),u=t(42496),_=t(34519),d=t(79551),m=t(10089),f=t(1449),p=t(93849),h=t(12513),x=t(2704),j=t(86457),v=t(1140),Z=t(82085),g=t(37167),b=t(72577),y=t(35492),E=t(2556),O=b.Z.Title,C=function(e){var n={position:"sticky",top:0};return(0,E.jsxs)(y.Z,{className:"title-header",justify:"space-between",align:"middle",style:e.noBorderBottom?(0,i.Z)({borderBottom:"none"},n):n,children:[(0,E.jsxs)("div",{children:[(0,E.jsx)(O,{className:"d-il mr12",level:5,style:{marginBottom:10},children:e.title}),(0,E.jsx)("div",{className:"d-il",children:e.breadcrumbs})]}),(0,E.jsx)(x.Z,{children:(0,E.jsx)(s.Z,{children:e.children?e.children:null})})]})},M=t(76877),w=t(43077),P=t.n(w),S=t(42335),k=t(33405),D=t(17669),I=t(33531),N=t(56713),T=t(20558),L=t(8718),R=t(48633),A=t(85351),B=t(16548),U=t(8230),K=t(81748),W=function(e){var n=(0,K.$G)(),t=n.t,r=(n.i18n,U.Z.useForm()),a=(0,l.Z)(r,1)[0],i=(0,c.useState)(),o=(0,l.Z)(i,2)[1];c.useCallback((function(){return o({})}),[]);(0,c.useEffect)((function(){e.formData&&a.setFieldsValue(e.formData)}),[e]);var s=(0,c.useState)({currentChange:{},allValues:{}}),u=(0,l.Z)(s,2),_=u[0],m=u[1];return(0,E.jsx)(d.Z,{destroyOnClose:!0,maskClosable:!1,width:e.width||680,visible:e.visible,title:e.title,okText:t("\u786e\u5b9a"),cancelText:t("\u53d6\u6d88"),onCancel:function(){a.resetFields(),e.onCancel()},onOk:function(){a.validateFields().then((function(n){e.onCreate(n,a)})).catch((function(e){}))},children:(0,E.jsx)(p.Z,{spinning:e.loading,children:(0,E.jsx)(U.Z,{onValuesChange:function(e,n){m({currentChange:e,allValues:n})},labelCol:{span:5},wrapperCol:{span:19},form:a,layout:"horizontal",name:"form_in_modal",children:e.children&&"[object Function]"===Object.prototype.toString.call(e.children)?e.children(a,_):e.children})})})},H=t(30506),F=t(74165),V=t(15861),q=t(51222),z=t(10007),G=t(28501),J=t(74030),$=q.Z.Option,X=function(e){var n=U.Z.useForm(),t=(0,l.Z)(n,1)[0],a=(0,c.useState)(!1),o=(0,l.Z)(a,2),s=o[0],u=o[1],_=(0,c.useState)([]),d=(0,l.Z)(_,2),m=(d[0],d[1],function(e){return(e||[]).map((function(e,n){return(0,i.Z)((0,i.Z)({},e),{},{indexKey:n})}))}),f=(0,c.useState)(m(e.params)),p=(0,l.Z)(f,2),j=p[0],v=p[1],Z=(0,c.useState)(m(e.params)),g=(0,l.Z)(Z,2),b=g[0],O=g[1],C=(0,c.useState)(new Map),M=(0,l.Z)(C,2),w=M[0],P=M[1],S=(0,K.$G)(),k=S.t;S.i18n;(0,c.useEffect)((function(){if(e.values){var n=e.values.length?e.values:[{key:void 0,value:void 0}];t.setFieldsValue({group:n});for(var a=(0,r.Z)(b),i=0;i<a.length;i++)for(var l=0;l<n.length;l++){void 0!==n[l]&&n[l].key===a[i].name&&(a[i].used=!0)}O(a)}}),[e.values]),(0,c.useEffect)((function(){if(e.params&&e.params.length){var n=m(e.params);v(n);for(var t=w,r=0;r<n.length;r++){var a=n[r];t.set(a.name,a)}P(t)}}),[e.params]);var I=function(){var n=(0,V.Z)((0,F.Z)().mark((function n(t){var r,a;return(0,F.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=t.group.filter((function(e){return!!e.key})),a=r.map((function(e){return{key:e.key,value:e.value}})),e.onChange(a);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),N=function(e){var n=t.getFieldValue(["group",e,"key"]);if(!n)return(0,E.jsx)(z.Z,{style:{width:"65%"},onPressEnter:function(){return L()}});var r=w.get(n);if("input"===(null===r||void 0===r?void 0:r.type))return(0,E.jsx)(z.Z,{style:{width:"65%"},defaultValue:r.defalutValue,placeholder:r.placeHolder,onPressEnter:function(){return L()}});if("select"===(null===r||void 0===r?void 0:r.type)){var a=(null===r||void 0===r?void 0:r.option)||[];return(0,E.jsx)(q.Z,{style:{width:"65%"},dropdownMatchSelectWidth:500,showSearch:!0,mode:"label"===n?"multiple":void 0,optionFilterProp:"label",options:a.map((function(e){return{label:e.label,value:e.value}}))})}},L=function(){t.validateFields()};return(0,E.jsxs)(U.Z,{className:"cmdb-mixsearch bg-title",form:t,onFinish:I,initialValues:{group:[{key:void 0,value:void 0}]},children:[(0,E.jsxs)(y.Z,{className:"cmdb-mixsearch-content",gutter:16,style:(0,i.Z)({marginLeft:0,marginRight:0},s?{height:70}:{height:"auto"}),children:[(0,E.jsx)(U.Z.List,{name:"group",children:function(e,n){var a=n.add,i=n.remove;return(0,E.jsxs)(E.Fragment,{children:[e.map((function(e,n){return(0,E.jsx)(x.Z,{span:8,children:(0,E.jsxs)(y.Z,{align:"middle",gutter:8,children:[(0,E.jsx)(x.Z,{className:"cmdb-mixsearch-group",children:(0,E.jsxs)(z.Z.Group,{compact:!0,children:[(0,E.jsx)(U.Z.Item,{noStyle:!0,name:[e.name,"key"],rules:[{required:!1,message:k("\u8bf7\u9009\u62e9key")}],children:(0,E.jsx)(q.Z,{style:{width:"35%"},placeholder:k("\u8bf7\u9009\u62e9"),onChange:function(e){!function(e){for(var n=(0,r.Z)(b),a=(t.getFieldValue("group")||[]).filter((function(e){return!!e})).map((function(e){return e.key})),i=0;i<n.length;i++){var l=n[i];l.name===e?n[i].used=!0:a.includes(l.name)||(n[i].used=!1)}O(n)}(e)},children:b.map((function(e,n){return(0,E.jsx)($,{style:{display:e.used?"none":"inherit"},value:e.name,children:e.title||e.name},"mixSearch_".concat(e.name,"_").concat(n))}))})}),(0,E.jsx)(U.Z.Item,{noStyle:!0,shouldUpdate:!0,name:[e.name,"value"],rules:[{required:!1,message:k("\u8bf7\u586b\u5199value")}],children:N(n)})]})}),(0,E.jsx)(x.Z,{className:"cmdb-mixsearch-delete",onClick:function(){var e=(t.getFieldValue("group")||[]).map((function(e){return e?e.key:void 0})),a=(0,r.Z)(b);if(e[n])for(var l=0;l<a.length;l++){a[l].name===e[n]&&(a[l].used=!1)}O(a),i(n)},children:(0,E.jsx)(G.Z,{})})]})},"mixSearch_".concat(e.key,"_").concat(n))})),j.length!==e.length&&(0,E.jsx)(x.Z,{className:"cmdb-mixsearch-add d-il",onClick:function(){a()},children:(0,E.jsx)(T.Z,{})})]})}}),(0,E.jsx)(x.Z,{flex:1,children:(0,E.jsx)(y.Z,{justify:"end",children:(0,E.jsx)(h.Z,{type:"primary",htmlType:"submit",children:k("\u67e5\u8be2")})})})]}),(0,E.jsx)(y.Z,{className:"cmdb-mixsearch-collapsed",children:(0,E.jsx)(y.Z,{onClick:function(){u(!s)},justify:"center",align:"middle",children:s?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(x.Z,{children:k("\u5c55\u5f00")}),(0,E.jsx)(x.Z,{children:(0,E.jsx)(D.Z,{})})]}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(x.Z,{children:k("\u6536\u8d77")}),(0,E.jsx)(x.Z,{children:(0,E.jsx)(J.Z,{})})]})})})]})},Q=t(45987),Y=t(97709),ee=t(73031),ne=t(69994),te=t(68553),re=t(75262),ae=t(65505),ie=t(74860),le=t(6857),ce=(t(90746),t(32085)),oe=t(3571),se=t(22914),ue=t(78602),_e=t(96903);function de(e){var n=(0,c.useState)(!1),t=(0,l.Z)(n,2),a=(t[0],t[1],(0,c.useState)(!1)),i=(0,l.Z)(a,2),o=(i[0],i[1]),s=(0,c.useState)(""),u=(0,l.Z)(s,2),_=(u[0],u[1],(0,c.useState)([])),d=(0,l.Z)(_,2),f=(d[0],d[1],(0,c.useState)(!0)),p=(0,l.Z)(f,2),h=(p[0],p[1],(0,c.useState)([])),x=(0,l.Z)(h,2),j=x[0],v=x[1];var Z=function(n,t,a){var i=function(e){var n=null;return void 0!=window.createObjectURL?n=window.createObjectURL(e):void 0!=window.URL?n=window.URL.createObjectURL(e):void 0!=window.webkitURL&&(n=window.webkitURL.createObjectURL(e)),n}(n),l=Math.random().toString(36).substring(2);return"video"===a?(0,E.jsxs)("div",{className:"p-r",children:[(0,E.jsx)("span",{onClick:function(){var n=(0,r.Z)(j);n.splice(t,1),v(n),e.onChange&&e.onChange(n)},className:"d-il p-a plr8 ptb2 bg-fail",style:{top:0,right:0,borderBottomLeftRadius:6,zIndex:9},children:(0,E.jsx)(G.Z,{style:{color:"#fff"}})}),(0,E.jsx)("video",{className:"w100 mb8",src:i,controls:!0})]},l):"audio"===a?(0,E.jsxs)("div",{className:"d-f ac mb8",children:[(0,E.jsx)("audio",{className:"w100 flex1",src:i,controls:!0}),(0,E.jsx)("span",{onClick:function(){var n=(0,r.Z)(j);n.splice(t,1),v(n),e.onChange&&e.onChange(n)},className:"d-il plr8 ptb2 bg-fail",style:{borderRadius:6},children:(0,E.jsx)(G.Z,{style:{color:"#fff"}})})]},l):n};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("div",{children:j.map((function(n,t){return Z(n,t,e.filetype||"file")}))}),(0,E.jsxs)(_e.Z.Dragger,{fileList:j,showUploadList:!1,customRequest:function(n){var t=[].concat((0,r.Z)(j),[n.file]);v(t),Promise.all(t.map((function(e){return n=e,new Promise((function(e,t){if(n){n.name.replace(/.+\./,""),n.name;var r=new FileReader;r.readAsDataURL(n),r.onload=function(){e(r.result)}}else t(void 0)}));var n}))).then((function(n){e.onChange&&e.onChange(n)}))},beforeUpload:function(n){var t,r=e.maxCount||1;if(j.length>=r)return m.ZP.error("\u8d85\u51fa\u6587\u4ef6\u6570\u91cf\u9650\u5236"),!1;var a=null===(t=e.format)||void 0===t?void 0:t.includes(n.type);a||m.ZP.error("\u6587\u4ef6\u683c\u5f0f\u9519\u8bef");var i=n.size<(e.maxSize||2097152);return i||m.ZP.error("\u6587\u4ef6\u5927\u5c0f\u9650\u5236"),a&&i},onChange:function(n){if("uploading"!==n.file.status)return"done"===n.file.status&&(o(!1),v(n.fileList),e.onChange&&e.onChange(n.fileList)),"removed"===n.file.status?(v(n.fileList),void(e.onChange&&e.onChange(n.fileList))):void 0;o(!0)},children:[(0,E.jsxs)("p",{className:"ant-upload-drag-icon",children:["file"!==e.filetype&&e.filetype?null:(0,E.jsx)(oe.Z,{}),"video"===e.filetype?(0,E.jsx)(se.Z,{}):null,"audio"===e.filetype?(0,E.jsx)(ue.Z,{}):null]}),(0,E.jsx)("p",{className:"ant-upload-text",children:"\u70b9\u51fb\u6216\u62d6\u62fd\u6587\u4ef6\u4e0a\u4f20"})]})]})}var me=t(57796),fe=t(75526),pe=t(41660);function he(e){var n=(0,K.$G)().t,t=(0,c.useState)(!0),r=(0,l.Z)(t,2),a=r[0],i=r[1],o=(0,c.useState)(e.value||"{}"),s=(0,l.Z)(o,2),u=s[0],_=s[1],d=(0,c.useState)("auto"),m=(0,l.Z)(d,2),f=m[0],p=m[1],x=(0,c.useRef)(null),j=(0,c.useRef)(!1),v=(0,c.useRef)(e.value),Z=function(e){try{var n=JSON.parse(e);return JSON.stringify(n,null,2)}catch(t){return e}};(0,c.useEffect)((function(){if(e.value!==v.current&&!j.current){var n=Z(e.value||"{}");_(n),i(!0),v.current=e.value}}),[e.value]);(0,c.useEffect)((function(){!function(){if(x.current){var e=x.current.querySelector(".cm-editor");if(e){var n=e.scrollHeight,t=Math.min(n,300);p("".concat(t,"px"))}}}()}),[u]);return(0,E.jsxs)("div",{style:{position:"relative"},children:[(0,E.jsx)(me.ZP,{value:u,onChange:function(n){j.current=!0,_(n);try{var t;JSON.parse(n),i(!0),null===(t=e.onChange)||void 0===t||t.call(e,n)}catch(a){var r;i(!1),null===(r=e.onChange)||void 0===r||r.call(e,n)}},readOnly:e.readOnly,height:f,extensions:[(0,fe.AV)(),pe.tk.lineWrapping,pe.tk.theme({"&":{maxHeight:"300px"},".cm-scroller":{overflow:"auto"}})],placeholder:e.placeholder,basicSetup:{lineNumbers:!1}}),(0,E.jsx)("div",{style:{position:"absolute",top:10,right:10,zIndex:100},children:(0,E.jsx)(h.Z,{size:"small",type:"primary",onClick:function(){var n,t=Z(u);_(t),i(!0),null===(n=e.onChange)||void 0===n||n.call(e,t),j.current=!1},disabled:!a,children:n("\u683c\u5f0f\u5316")})}),!a&&(0,E.jsx)("div",{style:{color:"red",marginTop:"10px"},children:n("json\u683c\u5f0f\u9519\u8bef")})]})}var xe=["key","name"];function je(e){return e.reduce((function(e,n){return e+(n||"").split("").reduce((function(e,n){return e+n.charCodeAt(0)}),0)}),0)}function ve(e){var n=e.dataOptions,t=(0,K.$G)(),s=t.t,u=(t.i18n,(0,c.useState)(0)),_=(0,l.Z)(u,2),d=_[0],m=_[1],f=(0,c.useState)(e.config),p=(0,l.Z)(f,2),x=p[0],j=p[1],v=(0,c.useRef)(e.config),Z=function(e){v.current=e,j(e)},g=(0,c.useState)(e.configGroup),b=(0,l.Z)(g,2),y=b[0],O=b[1],C=(0,c.useRef)(e.configGroup),M=function(e){C.current=e,O(e)},w=function(n,t){var l=function(n,t){return t.filter((function(e){return e.dep.includes(n)})).map((function(n){var t=je(n.dep.map((function(n){var t;return null===(t=e.form)||void 0===t?void 0:t.getFieldValue(n)})).filter((function(e){return!(void 0===e||null===e)})));return{effect:n.effect,option:n.effectOption[t]||[]}}))}(n,t);l.forEach((function(n){var t;null===(t=e.form)||void 0===t||t.setFieldsValue((0,a.Z)({},n.effect,void 0)),function(e,n){var t=v.current?(0,r.Z)(v.current):[];if(t)for(var a=0;a<t.length;a++){var l=t[a];l.name===e&&(t[a]=(0,i.Z)((0,i.Z)({},l),n))}Z(t)}(n.effect,{options:n.option}),function(e,n){for(var t=C.current?(0,r.Z)(C.current):[],a=0;a<t.length;a++){for(var l=(0,r.Z)(t[a].config),c=0;c<l.length;c++){var o=l[c];o.name===e&&(l[c]=(0,i.Z)((0,i.Z)({},o),n))}t[a]=(0,i.Z)((0,i.Z)({},t[a]),{},{config:l})}M(t)}(n.effect,{options:n.option})}))};(0,c.useEffect)((function(){if(e.formChangeRes&&e.linkageConfig){var n=e.formChangeRes.currentChange;w(Object.keys(n)[0],e.linkageConfig)}}),[e.formChangeRes]),(0,c.useEffect)((function(){var n;Z(e.config),M(e.configGroup);var t=(null===(n=e.form)||void 0===n?void 0:n.getFieldsValue())||{};Object.entries(t).forEach((function(n){var t=(0,l.Z)(n,2),r=t[0];void 0!==t[1]&&w(r,e.linkageConfig||[])}))}),[e.configGroup,e.config,n]);var S=function(){m(d+1)},k=function(e,n){return(0,E.jsx)(U.Z.Item,(0,i.Z)((0,i.Z)({label:e.label,name:e.name,rules:e.rules,initialValue:e.defaultValue||"",extra:(0,E.jsxs)(E.Fragment,{children:[e.data.tips?(0,E.jsx)(o.Z,{className:"mr8",placement:"bottom",title:(0,E.jsx)("span",{dangerouslySetInnerHTML:{__html:e.data.tips}}),children:(0,E.jsxs)("div",{className:"cp d-il",children:[(0,E.jsx)(N.Z,{style:{color:"#1672fa"}}),(0,E.jsx)("span",{className:"pl4 c-theme",children:s("\u8be6\u60c5")})]})}):null,e.description?(0,E.jsx)("span",{dangerouslySetInnerHTML:{__html:e.description}}):null]})},n),{},{children:(0,E.jsx)(z.Z,{disabled:e.disable,placeholder:e.placeHolder||"".concat(s("\u8bf7\u9009\u62e9")).concat(e.label)})}),"dynamicForm_".concat(e.name))},D=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(n.type){case"input":case"match-input":return k(n,t);case"input-select":return function(n,t){var r=(n.options||[]).map((function(e){return e.label}));return(0,E.jsx)(U.Z.Item,(0,i.Z)((0,i.Z)({label:n.label,name:n.name,rules:n.rules,initialValue:n.defaultValue||"",extra:(0,E.jsxs)(E.Fragment,{children:[n.data.tips?(0,E.jsx)(o.Z,{className:"mr8",placement:"bottom",title:(0,E.jsx)("span",{dangerouslySetInnerHTML:{__html:n.data.tips}}),children:(0,E.jsxs)("div",{className:"cp d-il",children:[(0,E.jsx)(N.Z,{style:{color:"#1672fa"}}),(0,E.jsx)("span",{className:"pl4 c-theme",children:s("\u8be6\u60c5")})]})}):null,n.description?(0,E.jsx)("span",{dangerouslySetInnerHTML:{__html:n.description}}):null]})},t),{},{children:(0,E.jsx)(le.Z,{onClick:function(t){n.data.retry_info&&e.onRetryInfoChange&&e.onRetryInfoChange(t)},isOpenSearchMatch:!0,disabled:n.disable,placeholder:"".concat(s("\u8bf7\u9009\u62e9")).concat(n.label),options:r})}),"dynamicForm_".concat(n.name))}(n,t);case"cascader":return function(e,n){var t=e.options||[];return(0,E.jsx)(U.Z.Item,(0,i.Z)((0,i.Z)({label:e.label,name:e.name,rules:e.rules,initialValue:e.defaultValue,extra:(0,E.jsxs)(E.Fragment,{children:[e.data.tips?(0,E.jsx)(o.Z,{className:"mr8",placement:"bottom",title:(0,E.jsx)("span",{dangerouslySetInnerHTML:{__html:e.data.tips}}),children:(0,E.jsxs)("div",{className:"cp d-il",children:[(0,E.jsx)(N.Z,{style:{color:"#1672fa"}}),(0,E.jsx)("span",{className:"pl4 c-theme",children:s("\u8be6\u60c5")})]})}):null,e.description?(0,E.jsx)("span",{dangerouslySetInnerHTML:{__html:e.description}}):null]})},n),{},{children:(0,E.jsx)(ne.Z,{placeholder:"select",options:t})}),"dynamicForm_".concat(e.name))}(n,t);case"textArea":return function(e,n){return(0,E.jsx)(U.Z.Item,(0,i.Z)((0,i.Z)({label:e.label,name:e.name,rules:e.rules,initialValue:e.defaultValue||"",extra:(0,E.jsxs)(E.Fragment,{children:[e.data.tips?(0,E.jsx)(o.Z,{className:"mr8",placement:"bottom",title:(0,E.jsx)("span",{dangerouslySetInnerHTML:{__html:e.data.tips}}),children:(0,E.jsxs)("div",{className:"cp d-il",children:[(0,E.jsx)(N.Z,{style:{color:"#1672fa"}}),(0,E.jsx)("span",{className:"pl4 c-theme",children:s("\u8be6\u60c5")})]})}):null,e.description?(0,E.jsx)("span",{dangerouslySetInnerHTML:{__html:e.description}}):null]})},n),{},{children:(0,E.jsx)(z.Z.TextArea,{autoSize:{minRows:4},disabled:e.disable,placeholder:e.placeHolder||"".concat(s("\u8bf7\u9009\u62e9")).concat(e.label)})}),"dynamicForm_".concat(e.name))}(n,t);case"json":return function(e,n){return(0,E.jsx)(U.Z.Item,(0,i.Z)((0,i.Z)({label:e.label,name:e.name,rules:e.rules,initialValue:e.defaultValue||"",extra:(0,E.jsxs)(E.Fragment,{children:[e.data.tips?(0,E.jsx)(o.Z,{className:"mr8",placement:"bottom",title:(0,E.jsx)("span",{dangerouslySetInnerHTML:{__html:e.data.tips}}),children:(0,E.jsxs)("div",{className:"cp d-il",children:[(0,E.jsx)(N.Z,{style:{color:"#1672fa"}}),(0,E.jsx)("span",{className:"pl4 c-theme",children:s("\u8be6\u60c5")})]})}):null,e.description?(0,E.jsx)("span",{dangerouslySetInnerHTML:{__html:e.description}}):null]})},n),{},{children:(0,E.jsx)(he,{rows:e.rows,readOnly:e.disable,placeholder:e.placeHolder||"".concat(s("\u8bf7\u9009\u62e9")).concat(e.label)})}),"dynamicForm_".concat(e.name))}(n,t);case"select":return function(n,t){var r=n.options||[];return(0,E.jsx)(U.Z.Item,(0,i.Z)((0,i.Z)({label:n.label,name:n.name,rules:n.rules,initialValue:n.defaultValue||"",extra:(0,E.jsxs)(E.Fragment,{children:[n.data.tips?(0,E.jsx)(o.Z,{className:"mr8",placement:"bottom",title:(0,E.jsx)("span",{dangerouslySetInnerHTML:{__html:n.data.tips}}),children:(0,E.jsxs)("div",{className:"cp d-il",children:[(0,E.jsx)(N.Z,{style:{color:"#1672fa"}}),(0,E.jsx)("span",{className:"pl4 c-theme",children:s("\u8be6\u60c5")})]})}):null,n.description?(0,E.jsx)("span",{className:"pr4",dangerouslySetInnerHTML:{__html:n.description}}):null,n.data.isRefresh?(0,E.jsxs)("div",{className:"cp d-il",onClick:function(){e.onRetryInfoChange&&e.onRetryInfoChange()},children:[(0,E.jsx)(ae.Z,{style:{color:"#1672fa"}}),(0,E.jsx)("span",{className:"pl4 c-theme",children:s("\u5237\u65b0\u5217\u8868")})]}):null]})},t),{},{children:(0,E.jsx)(re.Z,{style:{width:"100%"},mode:n.multiple?"multiple":void 0,onChange:function(t){n.data.retry_info&&e.onRetryInfoChange&&e.onRetryInfoChange(t)},showSearch:!0,disabled:n.disable,optionFilterProp:"label",placeholder:n.placeHolder||"".concat(s("\u8bf7\u9009\u62e9")).concat(n.label),options:r})}),"dynamicForm_".concat(n.name))}(n,t);case"datePicker":return function(e,n){return(0,E.jsx)(U.Z.Item,(0,i.Z)((0,i.Z)({label:e.label,name:e.name,initialValue:e.defaultValue?P()(e.defaultValue):void 0,rules:[{required:!0,message:s("\u8bf7\u9009\u62e9\u65f6\u95f4")}],extra:(0,E.jsxs)(E.Fragment,{children:[e.data.tips?(0,E.jsx)(o.Z,{className:"mr8",placement:"bottom",title:(0,E.jsx)("span",{dangerouslySetInnerHTML:{__html:e.data.tips}}),children:(0,E.jsxs)("div",{className:"cp d-il",children:[(0,E.jsx)(N.Z,{style:{color:"#1672fa"}}),(0,E.jsx)("span",{className:"pl4 c-theme",children:s("\u8be6\u60c5")})]})}):null,e.description?(0,E.jsx)("span",{dangerouslySetInnerHTML:{__html:e.description}}):null]})},n),{},{children:(0,E.jsx)(ee.Z,{style:{width:"100%"},locale:ce.Z,showTime:!!e.data.showTime})}),"dynamicForm_".concat(e.name))}(n,t);case"rangePicker":return function(e,n){return(0,E.jsx)(U.Z.Item,(0,i.Z)((0,i.Z)({label:e.label,name:e.name,rules:[{required:!0,message:s("\u8bf7\u9009\u62e9\u65f6\u95f4\u8303\u56f4")}],extra:(0,E.jsxs)(E.Fragment,{children:[e.data.tips?(0,E.jsx)(o.Z,{className:"mr8",placement:"bottom",title:(0,E.jsx)("span",{dangerouslySetInnerHTML:{__html:e.data.tips}}),children:(0,E.jsxs)("div",{className:"cp d-il",children:[(0,E.jsx)(N.Z,{style:{color:"#1672fa"}}),(0,E.jsx)("span",{className:"pl4 c-theme",children:s("\u8be6\u60c5")})]})}):null,e.description?(0,E.jsx)("span",{dangerouslySetInnerHTML:{__html:e.description}}):null]})},n),{},{children:(0,E.jsx)(ee.Z,{style:{width:"100%"},locale:ce.Z,showTime:!!e.data.showTime,disabledDate:function(e){return e&&e>P()().endOf("day")}})}),"dynamicForm_".concat(e.name))}(n,t);case"radio":return function(e,n){var t=e.options||[];return(0,E.jsx)(U.Z.Item,(0,i.Z)((0,i.Z)({label:e.label,name:e.name,rules:e.rules,initialValue:e.defaultValue,extra:(0,E.jsxs)(E.Fragment,{children:[e.data.tips?(0,E.jsx)(o.Z,{className:"mr8",placement:"bottom",title:(0,E.jsx)("span",{dangerouslySetInnerHTML:{__html:e.data.tips}}),children:(0,E.jsxs)("div",{className:"cp d-il",children:[(0,E.jsx)(N.Z,{style:{color:"#1672fa"}}),(0,E.jsx)("span",{className:"pl4 c-theme",children:s("\u8be6\u60c5")})]})}):null,e.description?(0,E.jsx)("span",{dangerouslySetInnerHTML:{__html:e.description}}):null]})},n),{},{children:(0,E.jsx)(Y.ZP.Group,{options:t})}),"dynamicForm_".concat(e.name))}(n,t);case"fileUpload":return function(e,n){return(0,E.jsx)(U.Z.Item,(0,i.Z)((0,i.Z)({label:e.label,name:e.name,rules:e.rules,initialValue:e.defaultValue,extra:e.description?(0,E.jsx)("span",{dangerouslySetInnerHTML:{__html:e.description}}):null},n),{},{children:(0,E.jsx)(de,{filetype:e.data.type,format:e.data.format,maxCount:e.data.maxCount||1})}),"dynamicForm_".concat(e.name))}(n,t);default:return null}},I=function(e){return(e||[]).map((function(e){return e.list&&e.list.length?(0,E.jsx)(U.Z.List,{name:e.name,children:function(n,t){var r=t.add,a=t.remove;return(0,E.jsxs)(E.Fragment,{children:[n.map((function(n){var t=n.key,r=n.name,l=(0,Q.Z)(n,xe);return(0,E.jsxs)("div",{className:"bor b-side pt8 plr16 mb8 d-f",style:{alignItems:"start",minWidth:1600},children:[e.list&&e.list.map((function(e){return D(e,(0,i.Z)((0,i.Z)({},l),{},{name:[r,e.name],labelAlign:"left",labelCol:24,style:{flexDirection:"column",flex:1,marginBottom:8}}))})),(0,E.jsx)(U.Z.Item,{children:(0,E.jsx)(h.Z,{danger:!0,onClick:function(){return a(r)},block:!0,icon:(0,E.jsx)(ie.Z,{}),style:{width:120},children:s("\u5220\u9664\u8be5\u9879")})})]},t)})),(0,E.jsx)(U.Z.Item,{noStyle:!0,className:"w100",label:"",children:(0,E.jsx)(h.Z,{type:"dashed",className:"w100",onClick:function(){return r()},block:!0,icon:(0,E.jsx)(T.Z,{}),children:s("\u589e\u52a0\u4e00\u9879")})})]})}},"dynamicForm_".concat(e.name)):(0,E.jsx)("div",{style:{width:680},children:D(e)})}))};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(U.Z.Item,{name:e.primaryKey||"id",noStyle:!0,hidden:!0,children:(0,E.jsx)(z.Z,{})},"dynamicForm_id"),y&&y.length?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(te.Z,{current:d,children:(y||[]).map((function(e,n){return(0,E.jsx)(te.Z.Step,{title:e.group},n)}))}),(0,E.jsx)("div",{className:"pt32",children:(y||[]).map((function(e,n){return(0,E.jsx)("div",{className:[d===n?"p-r z9":"p-a z-99 v-h l-10000"].join(" "),children:I(e.config)},n)}))}),(0,E.jsxs)("div",{className:"ta-c pt32",children:[d>0&&(0,E.jsx)(h.Z,{onClick:function(){m(d-1)},children:s("\u4e0a\u4e00\u6b65")}),d<(y||[]).length-1&&(0,E.jsx)(h.Z,{type:"primary",className:"ml16",onClick:function(){if(e.form){var n=y[d].config.map((function(e){return e.name}));e.form.validateFields(n).then((function(){S()})).catch((function(e){console.log(e)}))}else S()},children:s("\u4e0b\u4e00\u6b65")}),(0,E.jsx)("div",{children:d===(y||[]).length-1&&(0,E.jsx)("div",{className:"pt8 c-hint-b",children:s("\u70b9\u51fb\u786e\u5b9a\u5b8c\u6210\u63d0\u4ea4")})})]})]}):(0,E.jsx)("div",{style:{width:680},children:I(x||[])})]})}var Ze=t(4269),ge=t(54627),be=t(64447);function ye(e){var n,t=(0,c.useState)(!1),r=(0,l.Z)(t,2),a=r[0],i=r[1],o=(0,c.useState)(),s=(0,l.Z)(o,2),u=s[0],_=s[1];(0,c.useEffect)((function(){e.visible&&e.url&&m(e.url)}),[e.url,e.visible]);var m=function(e){e&&(i(!0),(0,H.ci)(e).then((function(e){e.data?_(e.data.result):(console.error("Invalid data format:",e.data),_(void 0))})).catch((function(e){console.error("Error fetching data:",e)})).finally((function(){i(!1)})))};return(0,E.jsx)(d.Z,{destroyOnClose:!0,maskClosable:!1,width:680,open:e.visible,title:null===u||void 0===u?void 0:u.title,onCancel:function(){e.onVisibilityChange(!1),_(void 0)},onOk:function(){return e.onVisibilityChange(!1)},footer:null!==u&&void 0!==u&&null!==(n=u.bottomButton)&&void 0!==n&&n.length?(0,E.jsx)("div",{className:"flex justify-end",children:u.bottomButton.map((function(e,n){return(0,E.jsxs)(h.Z,{type:"primary",onClick:function(){return(0,H.bZ)(e.method,e.url,e.arg)},className:"ml-2",children:[e.icon&&(0,E.jsx)("span",{className:"mr-2",dangerouslySetInnerHTML:{__html:e.icon}}),e.text]},"footerButton_".concat(n))}))}):null,children:(0,E.jsx)(p.Z,{spinning:a,children:u?(0,E.jsx)(ge.Z,{data:u.content||[]}):(0,E.jsx)("div",{children:(0,be.t)("No data available")})})})}function Ee(e){var n=(0,A.s0)(),t=(0,A.TH)(),b=(0,c.useState)([]),y=(0,l.Z)(b,2),O=y[0],w=y[1],U=(0,c.useState)(!0),F=(0,l.Z)(U,2),V=F[0],q=F[1],z=(0,c.useState)(!1),G=(0,l.Z)(z,2),J=G[0],$=G[1],Q=(0,c.useState)("true"===(0,B.jS)("isVisableAdd")||!1),Y=(0,l.Z)(Q,2),ee=Y[0],ne=Y[1],te=(0,c.useState)(!1),re=(0,l.Z)(te,2),ae=re[0],ie=re[1],le=(0,c.useState)(!1),ce=(0,l.Z)(le,2),oe=ce[0],se=ce[1],ue=(0,c.useState)(!1),_e=(0,l.Z)(ue,2),de=_e[0],me=_e[1],fe=(0,c.useState)(""),pe=(0,l.Z)(fe,2),he=pe[0],xe=pe[1],ge=(0,c.useState)(!1),be=(0,l.Z)(ge,2),Ee=be[0],Oe=be[1],Ce=(0,c.useState)(!1),Me=(0,l.Z)(Ce,2),we=Me[0],Pe=Me[1],Se=(0,c.useState)([]),ke=(0,l.Z)(Se,2),De=ke[0],Ie=ke[1],Ne={current:1,pageSize:20,total:0,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:[20,50,100,500],showTotal:function(e){return"".concat(fr("\u5171")).concat(e).concat(fr("\u6761"))}},Te=(0,c.useState)(Ne),Le=(0,l.Z)(Te,2),Re=Le[0],Ae=Le[1],Be=(0,c.useState)([]),Ue=(0,l.Z)(Be,2),Ke=Ue[0],We=Ue[1],He=(0,c.useState)([]),Fe=(0,l.Z)(He,2),Ve=Fe[0],qe=Fe[1],ze=(0,c.useState)([]),Ge=(0,l.Z)(ze,2),Je=Ge[0],$e=Ge[1],Xe=(0,c.useRef)(Je),Qe=function(e){Xe.current=e,$e(e)},Ye=(0,c.useState)([]),en=(0,l.Z)(Ye,2),nn=en[0],tn=en[1],rn=(0,c.useState)([]),an=(0,l.Z)(rn,2),ln=an[0],cn=an[1],on=(0,c.useState)([]),sn=(0,l.Z)(on,2),un=sn[0],_n=sn[1],dn=(0,c.useState)([]),mn=(0,l.Z)(dn,2),fn=mn[0],pn=mn[1],hn={};try{hn=JSON.parse((0,B.jS)("formData")||"{}")}catch(Or){}var xn=(0,c.useState)(hn),jn=(0,l.Z)(xn,2),vn=jn[0],Zn=jn[1],gn=(0,c.useState)({}),bn=(0,l.Z)(gn,2),yn=bn[0],En=bn[1],On=(0,c.useState)({}),Cn=(0,l.Z)(On,2),Mn=Cn[0],wn=Cn[1],Pn=(0,c.useRef)(Mn),Sn=(0,c.useState)([]),kn=(0,l.Z)(Sn,2),Dn=kn[0],In=kn[1],Nn=(0,c.useState)(1e3),Tn=(0,l.Z)(Nn,2),Ln=Tn[0],Rn=Tn[1],An=(0,c.useState)([]),Bn=(0,l.Z)(An,2),Un=Bn[0],Kn=Bn[1],Wn=(0,c.useState)({}),Hn=(0,l.Z)(Wn,2),Fn=Hn[0],Vn=Hn[1],qn=(0,c.useState)(),zn=(0,l.Z)(qn,2),Gn=zn[0],Jn=zn[1],$n=(0,c.useState)(),Xn=(0,l.Z)($n,2),Qn=Xn[0],Yn=Xn[1],et=(0,c.useRef)(Qn),nt=(0,c.useState)(!1),tt=(0,l.Z)(nt,2),rt=tt[0],at=tt[1],it=(0,c.useState)(!1),lt=(0,l.Z)(it,2),ct=lt[0],ot=lt[1],st=(0,c.useState)([]),ut=(0,l.Z)(st,2),_t=ut[0],dt=ut[1],mt=(0,c.useState)([]),ft=(0,l.Z)(mt,2),pt=ft[0],ht=ft[1],xt=(0,c.useState)(),jt=(0,l.Z)(xt,2),vt=jt[0],Zt=jt[1],gt=(0,c.useState)(""),bt=(0,l.Z)(gt,2),yt=bt[0],Et=bt[1],Ot=(0,c.useState)(""),Ct=(0,l.Z)(Ot,2),Mt=Ct[0],wt=Ct[1],Pt=(0,c.useState)(),St=(0,l.Z)(Pt,2),kt=St[0],Dt=St[1],It=(0,c.useState)(),Nt=(0,l.Z)(It,2),Tt=Nt[0],Lt=Nt[1],Rt=(0,c.useState)([]),At=(0,l.Z)(Rt,2),Bt=At[0],Ut=At[1],Kt=(0,c.useState)([]),Wt=(0,l.Z)(Kt,2),Ht=Wt[0],Ft=Wt[1],Vt=(0,c.useState)(!0),qt=(0,l.Z)(Vt,2),zt=qt[0],Gt=qt[1],Jt=(0,c.useRef)(zt),$t=(0,c.useState)(!1),Xt=(0,l.Z)($t,2),Qt=Xt[0],Yt=Xt[1],er=(0,c.useRef)(Qt),nr=(0,c.useState)(!1),tr=(0,l.Z)(nr,2),rr=tr[0],ar=tr[1],ir=(0,c.useState)(20),lr=(0,l.Z)(ir,2),cr=lr[0],or=lr[1],sr=(0,c.useState)(),ur=(0,l.Z)(sr,2),_r=ur[0],dr=ur[1],mr=(0,K.$G)(),fr=mr.t,pr=(mr.i18n,(0,c.useState)("")),hr=(0,l.Z)(pr,2),xr=hr[0],jr=hr[1],vr={pageConf:Ne,params:[],paramsMap:Fn,sorter:void 0};(0,c.useEffect)((function(){}),[cr]),(0,c.useEffect)((function(){jr((0,B.W9)())}),[]),(0,c.useEffect)((function(){e&&e.disable&&n("/404")}),[]);var Zr=function e(n,t,r){return n.map((function(n,a){var l=n["ui-type"]||"input";"select2"===l&&(l="select"),"file"===l&&(l="fileUpload");var c=n.label||t[n.name],o=(n.validators||[]).map((function(e){if("select"===l)return"DataRequired"===e.type?{required:!0,message:"".concat(fr("\u8bf7\u9009\u62e9")," ").concat(c)}:void 0;switch(e.type){case"DataRequired":return{required:!0,message:"".concat(fr("\u8bf7\u8f93\u5165")," ").concat(c)};case"Regexp":return{pattern:new RegExp("".concat(e.regex)),message:"".concat(fr("\u8bf7\u6309\u6b63\u786e\u7684\u89c4\u5219\u8f93\u5165"))};case"Length":return{min:e.min||0,max:e.max,message:"".concat(fr("\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u957f\u5ea6"))};default:return}})).filter((function(e){return!!e})),s=e(n.info||[],t,r);return{label:c,type:l,rules:o,list:s,name:n.name,disable:n.disable,description:n.description||r[n.name]||void 0,required:n.required,defaultValue:""===n.default?void 0:n.default,multiple:n["ui-type"]&&"select2"===n["ui-type"],options:(n.values||[]).map((function(e){return{label:e.value,value:e.id,children:e.children}})),data:(0,i.Z)({},n),rows:Number(n.rows||5)}}))};(0,c.useEffect)((function(){var c=(0,B.jS)("targetId"),f=c?"/dimension_remote_table_modelview/".concat(c,"/api/"):null===e||void 0===e?void 0:e.url;$(!0),(0,H.BQ)(f).then((function(c){var f=c.data,p=f.list_columns,h=f.label_columns,x=f.filters,j=f.add_columns,v=f.edit_columns,Z=f.permissions,g=f.description_columns,b=f.add_fieldsets,y=(f.edit_fieldsets,f.help_url),O=f.order_columns,C=f.fixed_columns,M=f.action,w=f.route_base,P=f.column_related,I=f.primary_key,N=f.label_title,T=f.cols_width,L=f.import_data,R=f.download_data,A=f.list_ui_type,U=f.list_ui_args,K=f.ops_link,W=f.enable_favorite,F=f.echart,V=f.page_size,q=f.list_title,z=(null===e||void 0===e?void 0:e.related)||Z.includes("can_show")||Z.includes("can_edit")||Z.includes("can_delete"),G=localStorage.getItem("tablebox_".concat(t.pathname)),J=JSON.parse(G||"[]").reduce((function(e,n){return(0,i.Z)((0,i.Z)({},e),{},(0,a.Z)({},n.dataIndex,n.width))}),{}),X=Object.entries(P||{}).reduce((function(e,n){var t=(0,l.Z)(n,2),c=(t[0],t[1]);return[].concat((0,r.Z)(e),[{dep:c.src_columns,effect:c.des_columns.join(""),effectOption:c.related.reduce((function(e,n){return(0,i.Z)((0,i.Z)({},e),{},(0,a.Z)({},je(n.src_value),n.des_value.map((function(e){return{label:e,value:e}}))))}),{})}])}),[]),Q=p.filter((function(e){return!C.includes(e)})).map((function(e){var n=(h[e]||e).split(":"),t=(0,l.Z)(n,2),a=t[0],i=t[1];return{title:i?(0,E.jsxs)(o.Z,{placement:"top",title:i,children:[a,(0,E.jsx)(S.Z,{})]}):a,dataIndex:e,key:e,sorter:O.includes(e)?function(n,t){return n[e]-t[e]}:void 0,render:function(n,t){var a;if(void 0===n||""===n)return"-";if((0,B.in)(n)){var i=document.createElement("div");i.innerHTML=n;var c=i.firstElementChild,s=null===c||void 0===c?void 0:c.getAttribute("type"),u=null===c||void 0===c?void 0:c.getAttribute("addedValue");if(s&&u){if("tips"===s)return(0,E.jsx)(o.Z,{title:(0,E.jsx)("span",{className:"tips-content",dangerouslySetInnerHTML:{__html:u}}),placement:"topLeft",children:(0,E.jsx)("div",{className:T[e].type||"ellip2",dangerouslySetInnerHTML:{__html:n}})});if("enhancedDetails"===s)return(0,E.jsx)("div",{onClick:function(){me(!0),xe(u)},dangerouslySetInnerHTML:{__html:n}})}}if(T[e]&&-1!==(null===(a=T[e].type)||void 0===a?void 0:a.indexOf("ellip")))return(0,E.jsx)(o.Z,{title:(0,E.jsx)("span",{className:"tips-content",dangerouslySetInnerHTML:{__html:n}}),placement:"topLeft",children:(0,E.jsx)("div",{className:T[e].type,dangerouslySetInnerHTML:{__html:n}})});if("[object Object]"===Object.prototype.toString.call(n)){var _=Object.entries(n).reduce((function(e,n){var t=(0,l.Z)(n,2),a=t[0],i=t[1];return[].concat((0,r.Z)(e),[{label:a,value:i}])}),[]);return _.length?(0,E.jsx)("div",{style:{overflow:"auto",maxHeight:100},children:_.map((function(e,n){return(0,E.jsxs)("div",{children:[h[e.label]||e.label,":",e.value]},"table_itemvalue_".concat(n))}))}):"-"}return(0,E.jsx)("div",{style:{overflow:"auto",maxHeight:100},dangerouslySetInnerHTML:{__html:n}})},width:J[e]||T[e]&&T[e].width||100}})),Y=p.filter((function(e){return C.includes(e)})).map((function(e){var n=(h[e]||e).split(":"),t=(0,l.Z)(n,2),a=t[0],i=t[1];return{title:i?(0,E.jsxs)(o.Z,{placement:"top",title:i,children:[a,(0,E.jsx)(S.Z,{})]}):a,dataIndex:e,key:e,align:"left",fixed:"right",render:function(n,t){var a;if(void 0===n||""===n)return"-";if((0,B.in)(n)){var i=document.createElement("div");i.innerHTML=n;var c=i.firstElementChild,s=null===c||void 0===c?void 0:c.getAttribute("type"),u=null===c||void 0===c?void 0:c.getAttribute("addedValue");if(s&&u){if("tips"===s)return(0,E.jsx)(o.Z,{title:(0,E.jsx)("span",{className:"tips-content",dangerouslySetInnerHTML:{__html:u}}),placement:"topLeft",children:(0,E.jsx)("div",{className:T[e].type||"ellip2",dangerouslySetInnerHTML:{__html:n}})});if("enhancedDetails"===s)return(0,E.jsx)("div",{onClick:function(){me(!0),xe(u)},dangerouslySetInnerHTML:{__html:n}})}}if(T[e]&&-1!==(null===(a=T[e].type)||void 0===a?void 0:a.indexOf("ellip")))return(0,E.jsx)(o.Z,{title:(0,E.jsx)("span",{className:"tips-content",dangerouslySetInnerHTML:{__html:n}}),placement:"topLeft",children:(0,E.jsx)("div",{className:T[e].type,dangerouslySetInnerHTML:{__html:n}})});if("[object Object]"===Object.prototype.toString.call(n)){var _=Object.entries(n).reduce((function(e,n){var t=(0,l.Z)(n,2),a=t[0],i=t[1];return[].concat((0,r.Z)(e),[{label:a,value:i}])}),[]);return _.length?(0,E.jsx)("div",{style:{overflow:"auto",maxHeight:100},children:_.map((function(e,n){return(0,E.jsxs)("div",{children:[h[e.label]||e.label,":",e.value]},"table_itemvalue_".concat(n))}))}):"-"}return(0,E.jsx)("div",{style:{overflow:"auto",maxHeight:100},dangerouslySetInnerHTML:{__html:n}})},width:T[e]&&T[e].width||100}})),ee=Object.entries(M||{}).reduce((function(e,n){var t=(0,l.Z)(n,2),a=(t[0],t[1]);return[].concat((0,r.Z)(e),[(0,i.Z)({},a)])}),[]),ne=ee.filter((function(e){return!!e.multiple})),te=ee.filter((function(e){return!!e.single})),re={title:fr("\u64cd\u4f5c"),width:80,dataIndex:"handle",key:"handle",align:"right",fixed:"right",render:function(r,l){var c;return(0,E.jsx)(s.Z,{size:"middle",children:z?(0,E.jsx)(u.Z,{overlay:(0,E.jsxs)(_.Z,{children:[er.current&&Jt.current?(0,E.jsx)(_.Z.Item,{children:(0,E.jsx)("div",{className:"link",onClick:function(){d.Z.confirm({title:fr("\u6536\u85cf"),icon:(0,E.jsx)(k.Z,{}),content:"".concat(fr("\u786e\u5b9a\u6536\u85cf"),"?"),okText:fr("\u786e\u8ba4\u6536\u85cf"),cancelText:fr("\u53d6\u6d88"),onOk:function(){return new Promise((function(e,n){(0,H.gA)("".concat(w,"favorite/").concat(l[I])).then((function(n){e("")})).catch((function(e){n()}))})).then((function(e){m.ZP.success(fr("\u6536\u85cf\u6210\u529f")),br((0,i.Z)((0,i.Z)({},vr),{},{pageConf:Re,params:Xe.current,paramsMap:x}))})).catch((function(){m.ZP.error(fr("\u6536\u85cf\u5931\u8d25"))}))},onCancel:function(){}})},children:fr("\u6536\u85cf")})}):null,er.current&&!Jt.current?(0,E.jsx)(_.Z.Item,{children:(0,E.jsx)("div",{className:"link",onClick:function(){d.Z.confirm({title:fr("\u53d6\u6d88\u6536\u85cf"),icon:(0,E.jsx)(k.Z,{}),content:"".concat(fr("\u786e\u5b9a\u53d6\u6d88\u6536\u85cf"),"?"),okText:fr("\u786e\u8ba4\u53d6\u6d88\u6536\u85cf"),cancelText:fr("\u53d6\u6d88"),onOk:function(){return new Promise((function(e,n){(0,H.aJ)("".concat(w,"favorite/").concat(l[I])).then((function(n){e("")})).catch((function(e){n()}))})).then((function(e){m.ZP.success(fr("\u64cd\u4f5c\u6210\u529f")),br((0,i.Z)((0,i.Z)({},vr),{},{pageConf:Re,params:Xe.current,paramsMap:x}))})).catch((function(){m.ZP.error(fr("\u64cd\u4f5c\u5931\u8d25"))}))},onCancel:function(){}})},children:fr("\u53d6\u6d88\u6536\u85cf")})}):null,Z.includes("can_show")?(0,E.jsx)(_.Z.Item,{children:(0,E.jsx)("div",{className:"link",onClick:function(){Pe(!0),yr(l[I])},children:fr("\u8be6\u60c5")})}):null,Z.includes("can_edit")?(0,E.jsx)(_.Z.Item,{children:(0,E.jsx)("div",{className:"link",onClick:function(){se(!0),(0,H.BQ)(w,l[I]).then((function(e){var n=e.data,t=n.edit_columns,r=n.label_columns,c=n.description_columns,o=n.edit_fieldsets,s=Zr(t,r,c),u=t.reduce((function(e,n){return(0,i.Z)((0,i.Z)({},e),{},(0,a.Z)({},n.name,n))}),{});t.forEach((function(e){"list"===e["ui-type"]&&e.info.forEach((function(e){u[e.name]=e}))})),En(u);var _=o.map((function(e){var n=e.fields.map((function(e){return u[e]})).filter((function(e){return!!e}));return{group:e.group,expanded:e.expanded,config:Zr(n,r,c)}}));cn(s),pn(_),yr(l[I])})).catch((function(){m.ZP.warn(fr("\u7528\u6237\u6ca1\u6709\u4fee\u6539\u6743\u9650"))}))},children:fr("\u4fee\u6539")})}):null,Z.includes("can_delete")?(0,E.jsx)(_.Z.Item,{children:(0,E.jsx)("div",{className:"c-fail cp",onClick:function(){d.Z.confirm({title:fr("\u5220\u9664"),icon:(0,E.jsx)(k.Z,{}),content:"".concat(fr("\u786e\u5b9a\u5220\u9664"),"?"),okText:fr("\u786e\u8ba4\u5220\u9664"),cancelText:fr("\u53d6\u6d88"),okButtonProps:{danger:!0},onOk:function(){return new Promise((function(e,n){(0,H.aM)("".concat(w).concat(l[I])).then((function(n){e("")})).catch((function(e){n()}))})).then((function(e){m.ZP.success(fr("\u5220\u9664\u6210\u529f")),br((0,i.Z)((0,i.Z)({},vr),{},{pageConf:Re,params:Xe.current,paramsMap:x}))})).catch((function(){m.ZP.error(fr("\u5220\u9664\u5931\u8d25"))}))},onCancel:function(){}})},children:fr("\u5220\u9664")})}):null,null===e||void 0===e||null===(c=e.related)||void 0===c?void 0:c.map((function(e,r){return(0,E.jsx)(_.Z.Item,{children:(0,E.jsx)("div",{className:"link",onClick:function(){n("".concat(t.pathname,"/").concat(e.name,"?id=").concat(l[I]))},children:e.title})},"moreAction_".concat(r))})),!!te.length&&te.map((function(e,n){return(0,E.jsx)(_.Z.Item,{children:(0,E.jsx)("div",{className:"link",onClick:function(){"url"===e.icon?window.open("".concat(w,"action/").concat(e.name,"/").concat(l[I]),"_blank"):d.Z.confirm({title:e.confirmation,icon:(0,E.jsx)(k.Z,{}),content:"",okText:fr("\u786e\u8ba4"),cancelText:fr("\u53d6\u6d88"),onOk:function(){return new Promise((function(n,t){(0,H.y5)("".concat(w,"action/").concat(e.name,"/").concat(l[I])).then((function(e){n(e)})).catch((function(e){t(e)}))})).then((function(e){m.ZP.success(fr("\u64cd\u4f5c\u6210\u529f")),e.data.result.link&&window.open(e.data.result.link,"bank"),br((0,i.Z)((0,i.Z)({},vr),{},{pageConf:Re,params:Xe.current,paramsMap:x}))})).catch((function(){m.ZP.error(fr("\u64cd\u4f5c\u5931\u8d25"))}))},onCancel:function(){}})},children:fr("".concat(e.text))})},"table_action_".concat(n))}))]}),children:(0,E.jsxs)("div",{className:"link",children:[fr("\u66f4\u591a"),(0,E.jsx)(D.Z,{})]})}):null})}},ae=(0,r.Z)(Q);Y&&ae.push.apply(ae,(0,r.Z)(Y)),z&&ae.push(re);var ie=j.reduce((function(e,n){return(0,i.Z)((0,i.Z)({},e),{},(0,a.Z)({},n.name,n))}),{});if(hn&&Object.keys(hn).length){var le=(Object.keys(hn)||[]).filter((function(e){return hn[e]&&ie[e]&&ie[e].retry_info})),ce=le.length;if(le.length){var oe=hn;for(var ue in oe){if(Object.prototype.hasOwnProperty.call(oe,ue))void 0===oe[ue]&&delete oe[ue]}!function e(n){ce-=1,(0,H.y1)("".concat(w,"_info"),{exist_add_args:n}).then((function(n){var t=n.data,r=t.add_columns,l=t.label_columns,c=t.description_columns,o=t.add_fieldsets,s=r.reduce((function(e,n){return(0,i.Z)((0,i.Z)({},e),{},(0,a.Z)({},n.name,n))}),{}),u=Zr(r,l,c),_=o.map((function(e){var n=e.fields.map((function(e){return s[e]})).filter((function(e){return!!e}));return{group:e.group,expanded:e.expanded,config:Zr(n,l,c)}})),d=r.map((function(e){return(0,a.Z)({},e.name,e.default)})).reduce((function(e,n){return(0,i.Z)((0,i.Z)({},e),n)}),{});if(Zn(d),tn(u),_n(_),ce){var m=JSON.stringify(d);e(m)}})).catch((function(e){m.ZP.error(fr("\u5b57\u6bb5\u5207\u6362\u9519\u8bef"))})).finally((function(){$(!1)}))}(JSON.stringify(oe))}}var _e=v.reduce((function(e,n){return(0,i.Z)((0,i.Z)({},e),{},(0,a.Z)({},n.name,n))}),{});v.forEach((function(e){"list"===e["ui-type"]&&e.info.forEach((function(e){_e[e.name]=e}))}));var de=Zr(j,h,g),fe=b.map((function(e){var n=e.fields.map((function(e){return ie[e]})).filter((function(e){return!!e}));return{group:e.group,expanded:e.expanded,config:Zr(n,h,g)}})),pe=Object.entries(x).reduce((function(e,n){var t=(0,l.Z)(n,2),a=t[0],i=t[1];return[].concat((0,r.Z)(e),[{name:a,type:i["ui-type"]||"input",title:h[a],oprList:i.filter.map((function(e){return e.operator})),defalutValue:""===i.default?void 0:i.default,option:i.values?i.values.map((function(e){return{label:e.value,value:e.id}})):void 0}])}),[]),he=Object.entries(x).reduce((function(e,n){var t=(0,l.Z)(n,2),a=t[0],i=t[1];return[].concat((0,r.Z)(e),[{key:a,value:i.default}])}),[]).filter((function(e){return e.value})),ve=JSON.parse(localStorage.getItem("filter_".concat(t.pathname).concat(t.search))||"[]"),Ze=void 0;if((0,B.jS)("filter"))try{Ze=JSON.parse((0,B.jS)("filter")||"[]")}catch(Ee){m.ZP.error(fr("filter\u89e3\u6790\u5f02\u5e38"))}var ge,be=Ze||ve;be&&be.length&&(he=be),dr(q),or(V),ar(F),ge=W,er.current=ge,Yt(ge),Ut(K),Ft(p),Dt(A),Lt(U),ot(R),at(L),wt(N),Et(I),dt(X),ht(ne),function(e){et.current=e,Yn(e)}(w),En(_e),Vn(x),We(ae),qe(pe),tn(de),_n(fe),function(e){Pn.current=e,wn(e)}(h),Kn(Z);var ye=G?ae.reduce((function(e,n){return e+n.width||100}),0)+80:100*ae.length+80+80;Rn(ye),Jn(y),Qe(he),br({pageConf:(0,i.Z)((0,i.Z)({},Ne),{},{pageSize:V}),params:he,paramsMap:x,sorter:void 0})})).catch((function(e){console.error(e)})).finally((function(){q(!1),$(!1)}))}),[]);var gr=function(n,t){var a=(0,B.jS)("id");return{filters:[a?{col:null===e||void 0===e?void 0:e.model_name,opr:"rel_o_m",value:+a}:void 0].concat((0,r.Z)(n.filter((function(e){return void 0!==e.value})).map((function(e){for(var n="",r=["rel_o_m","ct","eq"],a=t[e.key].filter.map((function(e){return e.operator}))||[],i=0;i<r.length;i++){var l=r[i];if(a.includes(l)){n=l;break}}return{col:e.key,opr:n,value:e.value}})))).filter((function(e){return!!e}))}},br=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pageConf:Ne,params:Je,paramsMap:Fn,sorter:void 0,only_favorite:!1},n=e.pageConf,t=e.params,r=e.paramsMap,a=e.sorter,l=e.only_favorite;q(!0);var c=JSON.stringify((0,i.Z)((0,i.Z)({},gr(t,r)),{},{only_favorite:l,str_related:1,page:(n.current||1)-1,page_size:n.pageSize||10},a));(0,H.jm)(et.current,{form_data:c}).then((function(e){var t=e.data.result,r=t.count,l=t.data;w(l),Ie([]),Ae((0,i.Z)((0,i.Z)((0,i.Z)({},Ne),n),{},{total:r})),Zt(a)})).catch((function(e){console.error(e)})).finally((function(){return q(!1)}))},yr=function(e){Oe(!0),In([]),(0,H.kI)("".concat(et.current).concat(e)).then((function(e){var n=e.data.result,t=[],r=function(e){return"[object Object]"===Object.prototype.toString.call(e)?e.last_name:e};Object.keys(n).forEach((function(e){t.push({label:Pn.current[e]||e,value:r(n[e]),key:e})})),In(t)})).catch((function(e){})).finally((function(){Oe(!1)}))},Er={name:"csv_file",maxCount:1,accept:".csv,.xls,.json,.xlsx",action:"".concat(Qn,"upload/"),headers:{authorization:"authorization-text"},beforeUpload:function(e){var n=-1!==e.name.indexOf(".csv"),t=-1!==e.name.indexOf(".xls"),r=-1!==e.name.indexOf(".json"),a=-1!==e.name.indexOf(".xlsx");if(n||r||t||a)return!0;m.ZP.error("\u6587\u4ef6\u683c\u5f0f\u652f\u6301CSV/JSON/XLS/XLSX")},onChange:function(e){"done"===e.file.status?f.Z.success({message:fr("\u5bfc\u5165\u6210\u529f"),description:JSON.stringify(e.file.response)}):"error"===e.file.status&&f.Z.error({message:fr("\u5bfc\u5165\u5931\u8d25"),description:JSON.stringify(e.file.response)})}};return(0,E.jsxs)("div",{className:"fade-in h100 d-f fd-c",children:[(0,E.jsx)(W,{title:"".concat(fr("\u6dfb\u52a0")," ").concat(Mt),formData:vn,loading:J,visible:ee,onCancel:function(){ne(!1)},onCreate:function(e,n){for(var t in $(!0),e)if(Object.prototype.hasOwnProperty.call(e,t)){var r=e[t];if(Array.isArray(r)){if(r[0]&&"[object Object]"===Object.prototype.toString.call(r[0]))continue;e[t]=e[t].join(",")}}(0,H.P9)(et.current,e).then((function(e){m.ZP.success("".concat(fr("\u6dfb\u52a0")," ").concat(Mt," ").concat(fr("\u6210\u529f"))),n.resetFields(),ne(!1),br((0,i.Z)((0,i.Z)({},vr),{},{pageConf:Re,params:Je,sorter:vt,paramsMap:Fn}))})).catch((function(e){m.ZP.error("".concat(fr("\u6dfb\u52a0")," ").concat(Mt," ").concat(fr("\u5931\u8d25")))})).finally((function(){$(!1)}))},children:function(e,n){return(0,E.jsx)(ve,{form:e,onRetryInfoChange:function(n){$(!0);var t=e.getFieldsValue();for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r))void 0===t[r]&&delete t[r]}var l=JSON.stringify(t);e.resetFields(),(0,H.y1)("".concat(et.current,"_info"),{exist_add_args:l}).then((function(n){var t=n.data,r=t.add_columns,l=t.label_columns,c=t.description_columns,o=t.add_fieldsets,s=r.reduce((function(e,n){return(0,i.Z)((0,i.Z)({},e),{},(0,a.Z)({},n.name,n))}),{}),u=Zr(r,l,c),_=o.map((function(e){var n=e.fields.map((function(e){return s[e]})).filter((function(e){return!!e}));return{group:e.group,expanded:e.expanded,config:Zr(n,l,c)}})),d=r.map((function(e){return(0,a.Z)({},e.name,e.default)})).reduce((function(e,n){return(0,i.Z)((0,i.Z)({},e),n)}),{});e.setFieldsValue(d),tn(u),_n(_)})).catch((function(e){m.ZP.error(fr("\u5b57\u6bb5\u5207\u6362\u9519\u8bef"))})).finally((function(){$(!1)}))},formChangeRes:n,linkageConfig:_t,config:nn,configGroup:un})}}),(0,E.jsx)(W,{title:"".concat(fr("\u4fee\u6539")," ").concat(Mt),formData:Dn.reduce((function(e,n){if("select"===(yn[n.key]||{})["ui-type"]){var t=n.value,r=(yn[n.key]||{}).values||[],l=r.map((function(e){return e.value})).indexOf(n.value);return~l&&(t=r[l].id),(0,i.Z)((0,i.Z)({},e),{},(0,a.Z)({},n.key,t))}var c;if("select2"===(yn[n.key]||{})["ui-type"])return c=Array.isArray(n.value)?n.value.map((function(e){return"object"===typeof e&&null!==e&&"id"in e?e.id:e})):n.value?n.value.split(","):[],(0,i.Z)((0,i.Z)({},e),{},(0,a.Z)({},n.key,c));if("datePicker"===(yn[n.key]||{})["ui-type"]){var o=n.value;return o=P()(o),(0,i.Z)((0,i.Z)({},e),{},(0,a.Z)({},n.key,o))}if("list"===(yn[n.key]||{})["ui-type"]){var s=(n.value||[]).map((function(e){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var t=e[n];"datePicker"===(yn[n]||{})["ui-type"]&&(e[n]=P()(t))}return e}));return(0,i.Z)((0,i.Z)({},e),{},(0,a.Z)({},n.key,s))}return(0,i.Z)((0,i.Z)({},e),{},(0,a.Z)({},n.key,n.value))}),{}),loading:ae||Ee,visible:oe,onCancel:function(){se(!1)},onCreate:function(e){for(var n in ie(!0),In([]),e)if(Object.prototype.hasOwnProperty.call(e,n)){var t=e[n];if(Array.isArray(t)){if(t[0]&&"[object Object]"===Object.prototype.toString.call(t[0]))continue;e[n]=e[n].join(",")}}(0,H.a1)("".concat(et.current).concat(e[yt]),e).then((function(e){m.ZP.success("".concat(fr("\u66f4\u65b0")," ").concat(Mt," ").concat(fr("\u6210\u529f"))),se(!1),br((0,i.Z)((0,i.Z)({},vr),{},{pageConf:Re,params:Je,sorter:vt,paramsMap:Fn}))})).catch((function(e){m.ZP.error("".concat(fr("\u66f4\u65b0")," ").concat(Mt," ").concat(fr("\u5931\u8d25")))})).finally((function(){ie(!1)}))},children:function(e){return(0,E.jsx)(ve,{form:e,primaryKey:yt,config:ln,linkageConfig:_t,configGroup:fn})}}),(0,E.jsx)(d.Z,{title:"".concat(Mt," ").concat(fr("\u8be6\u60c5")),visible:we,footer:null,width:800,destroyOnClose:!0,onCancel:function(){Pe(!1)},children:(0,E.jsx)(p.Z,{spinning:Ee,children:(0,E.jsx)("div",{className:"pb8",style:{paddingBottom:"8px",minHeight:"400px",maxWidth:"70vw",margin:"0 auto",overflowX:"auto"},children:Dn.map((function(e,n){return(0,E.jsxs)("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem"},children:[(0,E.jsx)("div",{style:{display:"flex",justifyContent:"right",width:"130px"},children:(0,E.jsxs)("strong",{children:[e.label,"\uff1a"]})}),(0,E.jsx)("div",{style:{flex:"1",display:"flex",justifyContent:"flex-start"},children:(0,E.jsx)("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",overflowX:"auto",margin:0},dangerouslySetInnerHTML:{__html:function(){var n=e.value;if("[object Object]"===Object.prototype.toString.call(e.value)||"[object Array]"===Object.prototype.toString.call(e.value))try{n=JSON.stringify(e.value,null,2)}catch(t){}return n}()}})})]},"dataDetail_".concat(n))}))})})}),(0,E.jsx)(ye,{visible:de,url:he,onVisibilityChange:me}),(0,E.jsx)(C,{title:(0,E.jsxs)(E.Fragment,{children:[null!==e&&void 0!==e&&e.isSubRoute?(0,E.jsxs)(h.Z,{className:"mr16",onClick:function(){window.history.back()},children:[(0,E.jsx)(I.Z,{}),fr("\u8fd4\u56de")]}):null,(0,E.jsx)("span",{children:Mt})]}),breadcrumbs:((null===e||void 0===e?void 0:e.breadcrumbs)||[]).map((function(n,t){return(0,E.jsxs)("span",{className:"c-icon-b fs12",children:["/",(0,E.jsx)("span",{className:"plr2",children:n})]},"templateTitle_".concat(null===e||void 0===e?void 0:e.name,"_").concat(t))})),children:Gn?(0,E.jsxs)("div",{className:"link",children:[(0,E.jsx)("span",{className:"pr4",onClick:function(){window.open(Gn,"blank")},children:fr("\u5e2e\u52a9\u94fe\u63a5")}),(0,E.jsx)(N.Z,{})]}):null}),(0,E.jsx)(g.VY,{className:"appmgmt-content bg-title h100 d-f fd-c",children:(0,E.jsxs)("div",{className:"mlr16 mb16 flex1 bg-w",children:[!!Ve.length&&(0,E.jsx)(X,{values:Je,params:Ve,onChange:function(e){localStorage.setItem("filter_".concat(t.pathname).concat(t.search),JSON.stringify(e)),Qe(e),br((0,i.Z)((0,i.Z)({},vr),{},{pageConf:Ne,params:e,sorter:vt,paramsMap:Fn}))}}),rr?(0,E.jsx)(Ze.Z,{url:Qn}):null,"card"!==kt?(0,E.jsx)(M.Z,{cancelExportData:!0,tableKey:"tablebox_".concat(t.pathname),titleNode:(0,E.jsx)(x.Z,{className:"tablebox-title",children:(0,E.jsxs)("div",{className:"d-f ac",children:[(0,E.jsx)("div",{className:"mr8",children:_r||""}),Qt?(0,E.jsx)("div",{className:"pb2",children:(0,E.jsx)(j.Z,{checked:zt,checkedChildren:fr("\u5168\u90e8"),unCheckedChildren:fr("\u6211\u7684\u6536\u85cf"),defaultChecked:!0,onChange:function(e){var n;n=e,Jt.current=n,Gt(n),br((0,i.Z)((0,i.Z)({},vr),{},{pageConf:Ne,params:Je,sorter:vt,paramsMap:Fn,only_favorite:!e}))}})}):null]})}),buttonNode:(0,E.jsxs)("div",{className:"d-f ac",children:[Bt&&Bt.length?Bt.map((function(e){return(0,E.jsx)(h.Z,{type:"primary",className:"mr16",onClick:function(){window.open(e.url,"bank")},children:e.text})})):null,Un.includes("can_add")?(0,E.jsxs)(h.Z,{className:"mr16",type:"primary",onClick:function(){return ne(!0)},children:[fr("\u6dfb\u52a0"),Mt,(0,E.jsx)(T.Z,{})]}):null,pt&&pt.length?(0,E.jsx)("div",{children:(0,E.jsx)(u.Z,{overlay:(0,E.jsx)(_.Z,{children:pt.map((function(e,n){return(0,E.jsx)(_.Z.Item,{children:(0,E.jsx)("span",{className:"link",onClick:function(){return function(e){De.length?d.Z.confirm({title:e.confirmation,icon:(0,E.jsx)(k.Z,{}),content:"",okText:fr("\u786e\u8ba4"),cancelText:fr("\u53d6\u6d88"),onOk:function(){return new Promise((function(n,t){(0,H.Eb)("".concat(et.current,"multi_action/").concat(e.name),{ids:De.map((function(e){return JSON.parse(e||"{}")[yt]}))}).then((function(e){n("")})).catch((function(e){t()}))})).then((function(e){m.ZP.success(fr("\u64cd\u4f5c\u6210\u529f")),br((0,i.Z)((0,i.Z)({},vr),{},{pageConf:Re,params:Je,sorter:vt,paramsMap:Fn}))})).catch((function(){m.ZP.error(fr("\u64cd\u4f5c\u5931\u8d25"))}))},onCancel:function(){}}):m.ZP.warn(fr("\u8bf7\u5148\u9009\u62e9"))}(e)},children:"".concat(fr("\u6279\u91cf")," ").concat(e.text)})},"table_muliple_".concat(n))}))}),children:(0,E.jsxs)(h.Z,{children:[fr("\u6279\u91cf\u64cd\u4f5c")," ",(0,E.jsx)(D.Z,{})]})})}):null,rt?(0,E.jsx)("div",{className:"d-f ml16",children:(0,E.jsx)(o.Z,{color:"#fff",title:(0,E.jsxs)("span",{className:"tips-content-b",children:[(0,E.jsxs)("div",{children:[fr("\u6ce8\u610f\uff1acsv\u9017\u53f7\u5206\u9694"),"\uff0c"]}),(0,E.jsx)("div",{children:fr("\u7b2c\u4e00\u884c\u4e3a\u5217\u7684\u82f1\u6587\u540d")})," ",(0,E.jsx)("div",{className:"link",onClick:function(){window.open("".concat(window.location.origin).concat(et.current,"download_template"))},children:fr("\u4e0b\u8f7d\u5bfc\u5165\u6a21\u677f")})]}),placement:"topLeft",children:(0,E.jsx)(v.Z,(0,i.Z)((0,i.Z)({},Er),{},{children:(0,E.jsx)(h.Z,{className:"",icon:(0,E.jsx)(L.Z,{}),children:fr("\u6279\u91cf\u5bfc\u5165\u6570\u636e")})}))})}):null,ct?(0,E.jsxs)(h.Z,{className:"ml16",onClick:function(){d.Z.confirm({title:fr("\u5bfc\u51fa\u6570\u636e"),icon:(0,E.jsx)(k.Z,{}),content:"",okText:fr("\u786e\u8ba4\u5bfc\u51fa\u6570\u636e"),cancelText:fr("\u53d6\u6d88"),onOk:function(){var e=gr(Je,Fn),n=JSON.stringify(e);window.open("".concat(window.location.origin).concat(et.current,"download?form_data=").concat(n)),m.ZP.success(fr("\u5bfc\u51fa\u6210\u529f"))},onCancel:function(){}})},children:[fr("\u6279\u91cf\u5bfc\u51fa"),"  ",(0,E.jsx)(R.Z,{})]}):null]}),rowKey:function(e){return JSON.stringify(e)},columns:Ke,loading:V,pagination:Re,dataSource:O,onChange:function(e,n,t){var r=t.order?{order_column:t.columnKey,order_direction:"ascend"===t.order?"asc":"desc"}:void 0;br((0,i.Z)((0,i.Z)({},vr),{},{pageConf:e,params:Je,paramsMap:Fn,sorter:r}))},rowSelection:{type:"checkbox",fixed:"left",columnWidth:32,selectedRowKeys:De,onChange:function(e){Ie(e)}},scroll:{x:Ln,y:xr}}):(0,E.jsxs)("div",{className:"bg-w p16",children:[(0,E.jsx)("div",{className:"d-f fw",children:O.map((function(e,n){return(0,E.jsx)("div",{style:{overflowY:"auto",width:null===Tt||void 0===Tt?void 0:Tt.card_width,height:null===Tt||void 0===Tt?void 0:Tt.card_height},className:"card-row mr16 mb16",children:Object.keys(e).map((function(t,r){return Ht.includes(t)?(0,E.jsx)("div",{style:{wordBreak:"break-all"},dangerouslySetInnerHTML:{__html:e[t]}},"row".concat(n).concat(r)):null}))},"card".concat(n))}))}),(0,E.jsx)("div",{className:"ta-r",children:(0,E.jsx)(Z.Z,(0,i.Z)((0,i.Z)({},Re),{},{onChange:function(e,n){br((0,i.Z)((0,i.Z)({},vr),{},{pageConf:(0,i.Z)((0,i.Z)({},Re),{},{current:e,pageSize:n}),params:Je,paramsMap:Fn}))}}))})]})]})})]})}},4269:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return ChartOptionTempalte}});var D_work_cube_studio_myapp_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(29439),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4519),_api_kubeflowApi__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(30506),_components_EchartCore_EchartCore__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(54189),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2556);function ChartOptionTempalte(props){var _useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}),_useState2=(0,D_work_cube_studio_myapp_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_useState,2),option=_useState2[0],setOption=_useState2[1],_useState3=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!0),_useState4=(0,D_work_cube_studio_myapp_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_4__.Z)(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){props.url&&(0,_api_kubeflowApi__WEBPACK_IMPORTED_MODULE_1__.VL)("".concat(props.url,"echart"),{}).then((function(res){var option=res.data.result,currentOps={};eval("currentOps=".concat(option)),setOption(currentOps)})).catch((function(e){})).finally((function(){setLoading(!1)}))}),[props.url]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components_EchartCore_EchartCore__WEBPACK_IMPORTED_MODULE_2__.Z,{option:option,loading:loading})}},48773:function(){}}]);